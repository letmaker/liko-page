import{O as it,g as at,C as rt,o,j as B,$ as w,b as n,Z as S,c as u,a as R,n as T,P as st,s as d,f as b,i as m,t as F,V as I}from"./liko.es-FNTwz-us.js";import"./index-BKZWgIt2.js";async function lt(){const k=new it;await k.init({width:1200,height:960,bgColor:2899536,container:"gameContainer",physics:{enabled:!0,debug:!1,boundaryArea:new at(0,0,1200,950).pad(50)}});const t=new rt({width:1200,height:950,parent:k.stage});new o({label:"title",text:`Liko引擎功能展示
Liko Game Engine Features`,textColor:"#ecf0f1",fontSize:32,fontWeight:"bold",textAlign:"center",position:{x:600,y:40},anchor:{x:.5,y:.5},parent:t}),new o({text:"支持渐变色文本效果",textColor:B.createLinearGradient({startX:0,endX:250,startY:0,endY:0},[{offset:0,color:"#e74c3c"},{offset:.5,color:"#f39c12"},{offset:1,color:"#2ecc71"}]),fontSize:22,fontWeight:"bold",position:{x:50,y:100},parent:t});const y=new o;y.label="strokeText",y.text="描边文本效果",y.textColor="#3498db",y.fontSize=22,y.fontWeight="bold",y.textStrokeWidth=3,y.textStrokeColor="#ffffff",y.position.set(400,100),t.addChild(y),new o({text:"文本渲染功能：支持渐变、描边、对齐等效果",textColor:"#bdc3c7",fontSize:16,position:{x:700,y:100},parent:t}),new o({text:"精灵系统与动画",textColor:"#f1c40f",fontSize:20,fontWeight:"bold",position:{x:50,y:160},parent:t}),new w({url:"assets/bg2.webp",width:150,height:100,alpha:.8,position:{x:50,y:190},parent:t}),new o({text:"静态精灵",textColor:"#95a5a6",fontSize:14,position:{x:50,y:300},parent:t});const s=new w;s.url="assets/apple.png",s.scale.set(.4),s.anchor={x:.5,y:.5},s.position.set(300,220),t.addChild(s),new o({text:`可交互精灵
(悬停和点击)`,textColor:"#95a5a6",fontSize:14,textAlign:"center",position:{x:300,y:300},anchor:{x:.5,y:0},parent:t}),s.on(n.pointerOver,()=>{s.scale.set(.5),s.tintColor=16739179}),s.on(n.pointerOut,()=>{s.scale.set(.4),s.tintColor=16777215}),s.on(n.click,()=>{S.play("assets/sound/bullet.mp3",.5),u.to({target:s,props:{scale:{x:.6,y:.6},angle:"+360"},duration:.5}).play()});const $=new w({url:"assets/strawberry.png",scale:{x:.4,y:.4},anchor:{x:.5,y:.5},position:{x:500,y:240},parent:t});new o({text:"旋转动画精灵",textColor:"#95a5a6",fontSize:14,textAlign:"center",position:{x:500,y:320},anchor:{x:.5,y:0},parent:t}),u.to({target:$,props:{angle:360},duration:3,repeat:0,onUpdate:e=>{$.angle=e*360}}).play();const U=new w({url:"assets/girl.png",width:56,height:78,anchor:{x:.5,y:.5},position:{x:650,y:240},parent:t});new o({text:"浮动动画精灵",textColor:"#95a5a6",fontSize:14,textAlign:"center",position:{x:650,y:320},anchor:{x:.5,y:0},parent:t}),u.to({target:U,props:{position:{y:180}},duration:2,repeat:0,yoyo:!0}).play();const M=await R.load("assets/boy.png"),D=await R.load("assets/girl.png"),P=new w({texture:M,anchor:{x:.5,y:.5},position:{x:800,y:240},scale:{x:.8,y:.8},parent:t});P.on(n.click,async()=>{D&&M&&(P.texture=P.texture===M?D:M,u.to({target:P,props:{scale:{x:1,y:1}},duration:.2,yoyo:!0,repeat:2}).play())}),new o({text:`切换纹理精灵
(点击切换)`,textColor:"#95a5a6",fontSize:14,textAlign:"center",position:{x:800,y:320},anchor:{x:.5,y:0},parent:t}),new o({text:"动画精灵(AnimatedSprite)系统",textColor:"#e67e22",fontSize:18,fontWeight:"bold",position:{x:50,y:350},parent:t}),new T({url:"assets/sheet/fliggy.atlas",parent:t,position:{x:50,y:400},scale:{x:.8,y:.8}}).play(),new o({text:`Atlas动画
(Fliggy)`,textColor:"#95a5a6",fontSize:12,textAlign:"center",position:{x:80,y:460},anchor:{x:.5,y:0},parent:t}),new T({url:"assets/sheet/zombie.atlas",parent:t,position:{x:170,y:380},scale:{x:.4,y:.4},frameRate:8}).play(),new o({text:`Atlas动画
(Zombie)`,textColor:"#95a5a6",fontSize:12,textAlign:"center",position:{x:200,y:460},anchor:{x:.5,y:0},parent:t}),new T({url:"assets/sheet/fire-rotated.atlas",parent:t,position:{x:280,y:360},scale:{x:.6,y:.6},frameRate:15}).play(),new o({text:`JSON动画
(Fire)`,textColor:"#95a5a6",fontSize:12,textAlign:"center",position:{x:320,y:460},anchor:{x:.5,y:0},parent:t});const W=await R.load("assets/sheet/girl-jump.atlas","sheet"),A=await R.load("assets/sheet/girl-run.atlas","sheet");if(A&&W){const e=new T({textures:A,parent:t,position:{x:380,y:380},scale:{x:.4,y:.4},frameRate:8});e.play(),e.on(n.click,()=>{e.textures!==W&&(e.textures=W,u.to({target:e,props:{position:{x:e.position.x,y:e.position.y-60}},ease:st.CubicOut,duration:.4,yoyo:!0,repeat:2}).onAllComplete(()=>{e.textures=A}).play())}),new o({text:`交互动画
(点击跳跃)`,textColor:"#95a5a6",fontSize:12,textAlign:"center",position:{x:440,y:460},anchor:{x:.5,y:0},parent:t})}const L=new T({url:"assets/sheet/fliggy.atlas",parent:t,position:{x:530,y:400},scale:{x:.6,y:.6},frameRate:5});L.play(),u.to({target:L,props:{frameRate:20},duration:3,yoyo:!0,repeat:0}).play(),new o({text:`动态帧率
(5→20→5fps)`,textColor:"#95a5a6",fontSize:12,textAlign:"center",position:{x:560,y:460},anchor:{x:.5,y:0},parent:t}),new o({text:"拖动系统",textColor:"#e67e22",fontSize:20,fontWeight:"bold",position:{x:900,y:160},parent:t});const Z=new w({url:"assets/strawberry.png",width:50,height:50,anchor:{x:.5,y:.5},position:{x:950,y:220},parent:t}),V=new d({label:"draggableShape",drawRect:{x:-25,y:-25,width:50,height:50,fill:"#3498db",stroke:"#2980b9",strokeWidth:3},anchor:{x:.5,y:.5},position:{x:1050,y:220},parent:t}),J=new w({url:"assets/apple.png",width:40,height:40,anchor:{x:.5,y:.5},position:{x:1e3,y:320},parent:t,scripts:[new b({rigidType:"dynamic",friction:.8,restitution:.3,allowRotation:!1})]});function O(e,x=!1){let l=!1;const a={x:0,y:0};let p=null;x&&(p=e.findScript({Class:b})),e.on(n.pointerDown,v=>{l=!0,a.x=v.pointer.x-e.position.x,a.y=v.pointer.y-e.position.y,e.scale.set(1.1),e.tintColor!==void 0&&(e.tintColor=16777113),p&&(p.rigidType="kinematic"),S.play("assets/sound/bullet.mp3",.2)}),k.stage.on(n.pointerMove,v=>{if(l){const ot=v.pointer.x-a.x,nt=v.pointer.y-a.y,j=Math.max(25,Math.min(1175,ot)),q=Math.max(25,Math.min(925,nt));p?p.setPosition(j,q):e.position.set(j,q)}}),k.stage.on(n.pointerUp,()=>{l&&(console.log("pointerUp"),l=!1,e.scale.set(1),e.tintColor!==void 0&&(e.tintColor=16777215),p&&(p.rigidType="dynamic"),S.play("assets/sound/bullet.mp3",.3))})}O(Z),O(V),O(J,!0),new o({text:"可拖动精灵",textColor:"#95a5a6",fontSize:12,textAlign:"center",position:{x:950,y:250},anchor:{x:.5,y:0},parent:t}),new o({text:"可拖动Shape",textColor:"#95a5a6",fontSize:12,textAlign:"center",position:{x:1050,y:250},anchor:{x:.5,y:0},parent:t}),new o({text:"可拖动物理对象",textColor:"#95a5a6",fontSize:12,textAlign:"center",position:{x:1e3,y:350},anchor:{x:.5,y:0},parent:t}),new o({text:"拖动功能：鼠标按下并拖动对象",textColor:"#95a5a6",fontSize:14,position:{x:900,y:380},parent:t});const E=new w({url:"assets/box.png",width:50,height:50,anchor:{x:.5,y:.5},parent:t,position:{x:850,y:80},scripts:[new b({rigidType:"dynamic",friction:.7,restitution:.4,allowRotation:!0})]});E.on(n.click,()=>{const e=E.findScript({Class:b});e&&(e.applyForceToCenter({x:0,y:-800}),S.play("assets/sound/bullet.mp3",.7))});const f=new w;f.url="assets/ball.png",f.width=35,f.height=35,f.anchor={x:.5,y:.5},f.position.set(950,80),f.scripts=[new b({rigidType:"dynamic",friction:.3,restitution:.8,shapes:[{shapeType:"circle",radius:17.5}]})],t.addChild(f),f.on(n.click,()=>{const e=f.findScript({Class:b});e&&(e.linearVelocity={x:0,y:-15},S.play("assets/sound/bullet.mp3",.7))}),new o({text:`动态物理对象
(点击方块施加力，点击小球设置速度)`,textColor:"#95a5a6",fontSize:14,textAlign:"center",position:{x:900,y:800},anchor:{x:.5,y:0},parent:t});const N=new d({label:"rotatingShape",drawPolygon:{points:[{x:0,y:-15},{x:12,y:8},{x:-12,y:8}],fill:"#e74c3c",stroke:"#c0392b",strokeWidth:2},anchor:{x:.5,y:.5},position:{x:780,y:695},parent:t});u.to({target:N,props:{angle:360},duration:4,repeat:0}).play(),new o({text:"旋转Shape",textColor:"#95a5a6",fontSize:12,position:{x:750,y:725},parent:t}),new o({text:"Canvas绘图系统",textColor:"#9b59b6",fontSize:20,fontWeight:"bold",position:{x:50,y:500},parent:t});const r=new m;r.beginPath(),r.circle(40,40,25),r.fill({color:"#e74c3c"}),r.beginPath(),r.rect(90,20,50,35),r.fill({color:"#3498db"}),r.beginPath(),r.moveTo(170,20),r.lineTo(210,20),r.lineTo(190,60),r.closePath(),r.fill({color:"#2ecc71"}),r.position.set(50,530),t.addChild(r),new o({text:"基本图形",textColor:"#95a5a6",fontSize:14,position:{x:50,y:620},parent:t});const c=new m;c.beginPath(),c.roundRect(10,10,70,50,8),c.stroke({color:"#9b59b6",width:3}),c.beginPath(),c.ellipse(130,35,35,20,0,2*Math.PI),c.stroke({color:"#f39c12",width:3}),c.beginPath(),c.circle(210,35,25),c.stroke({color:"#e74c3c",width:2,dash:[5,3]}),c.position.set(300,530),t.addChild(c),new o({text:"描边效果",textColor:"#95a5a6",fontSize:14,position:{x:300,y:620},parent:t});const i=new m;i.beginPath();const G=22,H=G*.382,K=35,Q=35;for(let e=0;e<10;e++){const x=Math.PI/5*e-Math.PI/2,l=e%2===0?G:H,a=K+l*Math.cos(x),p=Q+l*Math.sin(x);e===0?i.moveTo(a,p):i.lineTo(a,p)}i.closePath(),i.fill({color:"#f1c40f"}),i.stroke({color:"#e67e22",width:2}),i.beginPath(),i.moveTo(100,15),i.quadraticCurveTo(140,0,180,15),i.quadraticCurveTo(220,35,180,55),i.quadraticCurveTo(140,70,100,55),i.quadraticCurveTo(60,35,100,15),i.fill({color:"#3498db"}),i.position.set(580,530),t.addChild(i),new o({text:"复杂路径",textColor:"#95a5a6",fontSize:14,position:{x:580,y:620},parent:t});const g=new m;g.beginPath(),g.rect(10,10,80,35),g.fill({color:B.createLinearGradient({startX:10,startY:10,endX:90,endY:10},[{offset:0,color:"#ff6b6b"},{offset:.5,color:"#4ecdc4"},{offset:1,color:"#ffffff"}])}),g.beginPath(),g.circle(130,27,22),g.fill({color:B.createRadialGradient({startX:130,startY:27,startRadius:0,endX:130,endY:27,endRadius:22},[{offset:0,color:"#ffffff"},{offset:.7,color:"#ff6b6b"},{offset:1,color:"#c44569"}])}),g.position.set(830,530),t.addChild(g),new o({text:"渐变效果",textColor:"#95a5a6",fontSize:14,position:{x:830,y:620},parent:t});const h=new m,X=e=>{h.clear(),h.beginPath();for(let x=0;x<8;x++){const l=x*Math.PI/4,a=40+25*Math.cos(l),p=40+25*Math.sin(l);h.circle(a,p,12)}h.circle(40,40,18),h.fill({color:e})};X("#e74c3c"),h.on(n.pointerOver,()=>{X("#2ecc71")}),h.on(n.pointerOut,()=>{X("#e74c3c")}),h.position.set(1020,530),t.addChild(h),new o({text:"交互Canvas",textColor:"#95a5a6",fontSize:14,position:{x:1020,y:620},parent:t}),new o({text:"Shape几何图形系统",textColor:"#1abc9c",fontSize:20,fontWeight:"bold",position:{x:50,y:640},parent:t}),new d({label:"basicRect",drawRect:{x:0,y:0,width:50,height:50,fill:"#3498db",stroke:"#2980b9",strokeWidth:2},position:{x:50,y:670},parent:t}),new o({text:"矩形",textColor:"#95a5a6",fontSize:12,position:{x:50,y:725},parent:t}),new d({label:"basicCircle",drawCircle:{x:25,y:25,radius:25,fill:"#e74c3c",stroke:"#c0392b",strokeWidth:3},position:{x:150,y:670},parent:t}),new o({text:"圆形",textColor:"#95a5a6",fontSize:12,position:{x:150,y:725},parent:t}),new d({label:"roundedRect",drawRoundedRect:{x:0,y:0,width:60,height:40,cornerRadius:12,fill:"#2ecc71",stroke:"#27ae60",strokeWidth:2},position:{x:250,y:680},parent:t}),new o({text:"圆角矩形",textColor:"#95a5a6",fontSize:12,position:{x:250,y:725},parent:t}),new d({label:"ellipse",drawEllipse:{x:35,y:25,radiusX:35,radiusY:20,fill:"#f39c12",stroke:"#e67e22",strokeWidth:2},position:{x:350,y:680},parent:t}),new o({text:"椭圆",textColor:"#95a5a6",fontSize:12,position:{x:350,y:725},parent:t}),new d({label:"triangle",drawPolygon:{points:[{x:30,y:0},{x:60,y:50},{x:0,y:50}],fill:"#9b59b6",stroke:"#8e44ad",strokeWidth:2},position:{x:450,y:670},parent:t}),new o({text:"多边形",textColor:"#95a5a6",fontSize:12,position:{x:450,y:725},parent:t}),new d({label:"polyline",drawLine:{points:[{x:0,y:40},{x:20,y:0},{x:40,y:25},{x:60,y:10},{x:80,y:35}],color:"#34495e",lineWidth:4},position:{x:550,y:670},parent:t}),new o({text:"线条",textColor:"#95a5a6",fontSize:12,position:{x:550,y:725},parent:t}),new d({label:"interactiveShape",position:{x:650,y:670},parent:t});const C=t.findChild({label:"interactiveShape"});C&&(C.drawCircle({x:25,y:25,radius:25,fill:"#1abc9c",stroke:"#16a085",strokeWidth:2}),C.on(n.pointerOver,()=>{C.drawCircle({x:25,y:25,radius:30,fill:"#e67e22",stroke:"#d35400",strokeWidth:3})}),C.on(n.pointerOut,()=>{C.drawCircle({x:25,y:25,radius:25,fill:"#1abc9c",stroke:"#16a085",strokeWidth:2})})),new o({text:"交互Shape",textColor:"#95a5a6",fontSize:12,position:{x:650,y:725},parent:t});const z=new m;z.rect(0,0,1200,30),z.fill({color:"#34495e"}),z.position.set(0,920),t.addChild(z),z.addScript(new b({rigidType:"static",category:"ground"})),new o({text:"控制面板",textColor:"#ecf0f1",fontSize:18,fontWeight:"bold",position:{x:50,y:800},parent:t});const Y=new o({text:"🎵 播放背景音乐",fontSize:16,textColor:"#f39c12",parent:t,position:{x:50,y:830}});Y.on(n.click,()=>{F.play("assets/sound/bg.mp3").fadeIn(2),Y.text="🎵 音乐播放中..."}),new o({text:"⏹️ 停止音乐",fontSize:16,textColor:"#e74c3c",parent:t,position:{x:220,y:830}}).on(n.click,()=>{F.stopAll(),Y.text="🎵 播放背景音乐"});const _=new o({text:"运行时间: 0秒",fontSize:16,textColor:"#bdc3c7",parent:t,position:{x:50,y:922}}),tt=Date.now();k.stage.timer.setInterval(1,()=>{const e=Math.floor((Date.now()-tt)/1e3);_.text=`运行时间: ${e}秒`}),t.on(n.click,e=>{et(e.pointer.x,e.pointer.y),S.play("assets/sound/bullet.mp3",.3)}),document.addEventListener("keydown",e=>{switch(e.key){case" ":e.preventDefault(),I.system.paused?I.system.resume():I.system.pause();break}});function et(e,x){for(let l=0;l<8;l++){const a=new d;a.drawCircle({x:0,y:0,radius:Math.random()*4+2,fill:`rgb(${Math.floor(Math.random()*256)}, ${Math.floor(Math.random()*256)}, ${Math.floor(Math.random()*256)})`}),a.position.set(e,x),t.addChild(a),u.to({target:a,props:{position:{x:e+(Math.random()-.5)*150,y:x+(Math.random()-.5)*150},alpha:0,scale:{x:0,y:0}},duration:1,onComplete:()=>{t.removeChild(a)}}).play()}}}lt();
